---
title: FAQ
description: Frequently asked questions about bbkt.
---

import { Aside } from '@astrojs/starlight/components';

## General

### What is bbkt?

bbkt is an MCP (Model Context Protocol) server and CLI tool that lets AI assistants interact with your Bitbucket repositories. It provides tools for reading arrays of projects, managing pull requests, triggering pipelines, and editing source code.

### Do I need a specific Bitbucket plan?

No. bbkt works with standard Bitbucket Cloud environments. It does not currently support on-premises Bitbucket Server/Data Center.

### Which AI assistants work with this?

Any MCP-compatible client:
- Claude Desktop
- Cursor
- Cline (VS Code extension)
- Other MCP clients

### Is my code sent to the cloud?

bbkt relies on direct HTTP calls between your local machine and `api.bitbucket.org`. When using an AI assistant like Claude, the repository content you discuss or fetch via the tools is sent to that specific AI provider to generate context.

## Configuration & Authentication

### How do I authenticate?

The most reliable integration method is using an **Atlassian API Token** rather than an App Password. 
Set `BITBUCKET_USERNAME` and `BITBUCKET_API_TOKEN` in your MCP client's configuration file.

### Does bbkt support OAuth?

Yes! If you run the `bbkt` CLI manually without explicitly passing tokens, it will spin up a local server and prompt you to log in via a web browser using OAuth 2.0.

### The server isn't connecting

1. Check the path to the executable in your MCP config is correct
2. Ensure you have valid `BITBUCKET_USERNAME` and `BITBUCKET_API_TOKEN` values assigned
3. Restart Claude Desktop completely
4. Check Claude Desktop logs for errors

## Usage

### Why did you bundle 40 tools into 9?

We originally ported over 40 highly specific tools (e.g., `approve_pull_request`, `create_pull_request`, `list_pull_requests`). However, we found that forcing massive tool schemas into the LLM context window quickly exceeded context limits and degraded performance.

We "multiplexed" these tools into 9 domain-specific handlers (like `manage_pull_requests`) driven by an `action` enum. This drastically reduces prompt bloat and prevents AI hallucinations.

### How do I prevent the AI from making accidental changes?

bbkt has built-in **Dynamic Token Introspection**. If your API token lacks the `write:repository` scope, bbkt automatically detects this and *silently drops* those specific tools from the MCP registration payload. The AI won't even know they exist!

You can also explicitly ban tools using the `BITBUCKET_DISABLED_TOOLS` environment variable:
```bash
export BITBUCKET_DISABLED_TOOLS="manage_repositories,manage_source"
```

## Contributing

### How do I report a bug?

Open an issue on [GitHub](https://github.com/zach-snell/bbkt/issues) with:
- What you expected
- What happened
- Steps to reproduce
- bbkt version

### Can I contribute code?

Yes! See the [Development](/bbkt/advanced/development) guide for setup instructions and contribution guidelines.
